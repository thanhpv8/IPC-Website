<div id="wc" class="tab-pane fade in" style="position: relative;">
    
    <!-- code for help side-bar -->
    <div class="col-sm-12">
        <div style="float:left;">
            <h4>SETUP WIRE CENTER</h4>
        </div>


    </div>
    <!-- end of code -->
    
    <div class="row">
        <div class="col-sm-10">
            <div class="col-sm-2 modifyPadding">
                <label for="wc_wcname_txt">WCNAME</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_wcname_txt" readonly>
            </div>
            <div class="col-sm-1 modifyPadding">
                <label for="wc_wcc_txt">WCC</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_wcc_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_clli_txt">CLLI</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_clli_txt" readonly>
            </div>
            <div class="col-sm-1 modifyPadding">
                <label for="wc_npanxx_txt">NPANXX</label>
                <input type="number" class="form-control" id="wc_npanxx_txt" readonly>
            </div>
            <div class="col-sm-1 modifyPadding">
                <label for="wc_frloc_txt">FRM_ID</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_frloc_txt" readonly>
            </div>
            <div class="col-sm-1 modifyPadding">
                <label for="wc_ipctyp_txt">IPC_TYP</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_ipctyp_txt" readonly>
            </div>
            <div class="col-sm-1 modifyPadding">
                <label for="wc_ipcmod_txt">IPC_MOD</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_ipcmod_txt" readonly>
            </div>
            <div class="col-sm-1 modifyPadding">
                <label for="wc_tzone_sel">TZONE</label>
                <select class="form-control" id="wc_tzone_sel" disabled>
                    <option></option>
                    <option>AKST</option>
                    <option>CST</option>
                    <option>EST</option>
                    <option>HST</option>
                    <option>MST</option>
                    <option>PST</option>
                </select>
            </div>
            <div class="col-sm-2 modifyPadding">
                <label for="wc_stat_sel">STAT</label>
                <select class="form-control" id="wc_stat_sel" disabled>
                
                </select>
            </div>
        </div>

        <!-- ----------------------------------------------------------------------->

        <div class="col-sm-10">
            <div class="col-sm-4 modifyPadding">
                <label for="wc_addr_txt">LOC_ADDR</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_addr_txt" readonly>
            </div>

            <div class="col-sm-3 modifyPadding">
                <label for="wc_city_txt">CITY</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_city_txt" readonly>
            </div>

            <div class="col-sm-1 modifyPadding">
                <label for="wc_state_sel">STATE</label>
                <select class="form-control" id="wc_state_sel" disabled>
                </select>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_zip_txt">ZIP</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_zip_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_gps_txt">GPS</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_gps_txt" readonly>
            </div>
        </div>
        
        <!---------------------------------------------------------------------->
        
        <div class="col-sm-10">
            <div class="col-sm-4 modifyPadding">
                <label for="wc_company_txt">COMPANY</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_company_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_region_txt">REGION</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_region_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_area_txt">AREA</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_area_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_district_txt">DISTRICT</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_district_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_manager_txt">MANAGER</label>
                <input style="text-transform: uppercase" type="text" class="form-control" id="wc_manager_txt" readonly>
            </div>
        </div>

        <!-- ---------------------------------------------------------------------------- -->

        <div class="col-sm-10">
            <div class="col-sm-2 modifyPadding">
                <label for="wc_ipadr_txt">IP_ADDR</label>
                <input type="text" class="form-control" id="wc_ipadr_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                <label for="wc_gateway_txt">GATEWAY </label>
                <input type="text" class="form-control" id="wc_gateway_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                    <label for="wc_netmask_txt"> NETMASK</label>
                    <input type="text" class="form-control" id="wc_netmask_txt" readonly>
            </div>

            <div class="col-sm-2 modifyPadding">
                    <label for="wc_iport_txt">IP_PORT</label>
                    <input type="text" class="form-control" id="wc_iport_txt" readonly>
            </div>

            <div>
                <br><br>
                <input type="hidden" id="wc_id_num" style="width:50px;" readonly>
                <label id="wc_result_lbl" style="color:red"></label>
            </div>
        </div>
        <!-- ----------------------------------------------------------------------------- -->
        <div class="col-sm-12">
            <div class="col-sm-2 modifyPadding">
                <label for="wc_act_sel">ACTION</label>
                <select class="form-control" id="wc_act_sel">
        
                </select>
            </div>
        </div>
    </div>

</div>

<div id="wcModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">SETUP WIRECENTER</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_wcname_txt">WCNAME</label>
                            <input style="text-transform: uppercase" type="text" class="form-control wcModal_reset_input" id="wcModal_wcname_txt" >
                        </div>
                        <div class="col-sm-1 modifyPadding">
                            <label for="wcModal_wcc_txt">WCC</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_wcc_txt" >
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_clli_txt">CLLI</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_clli_txt" >
                        </div>
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_npanxx_txt">NPANXX</label>
                            <input type="number" class="form-control" id="wcModal_npanxx_txt" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
                        </div>
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_frloc_txt">FRLOC</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_frloc_txt" >
                        </div>
                        <div class="col-sm-1 modifyPadding">
                            <label for="wcModal_tzone_sel">TZONE</label>
                            <select class="form-control" id="wcModal_tzone_sel">
                                <option></option>
                                <option>AKST</option>
                                <option>CST</option>
                                <option>EST</option>
                                <option>HST</option>
                                <option>MST</option>
                                <option>PST</option>
                            </select>
                        </div>
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_stat_sel">STAT</label>
                            <select class="form-control" id="wcModal_stat_sel" readonly >
                            
                            </select>
                        </div>
                    </div>
            
                    <!-- ------------------------------------------------>
            
                    <div class="col-sm-12">
                        <div class="col-sm-4 modifyPadding">
                            <label for="wcModal_addr_txt">ADDR</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_addr_txt" >
                        </div>
            
                        <div class="col-sm-3 modifyPadding">
                            <label for="wcModal_city_txt">CITY</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_city_txt" >
                        </div>
            
                        <div class="col-sm-1 modifyPadding">
                            <label for="wcModal_state_sel">STATE</label>
                            <select class="form-control" id="wcModal_state_sel" >
                            </select>
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_zip_txt">ZIP</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_zip_txt" >
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_gps_txt">GPS</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_gps_txt" >
                        </div>
                    </div>
                    
                    <!---------------------------------------------------------------------->
                    
                    <div class="col-sm-12">
                        <div class="col-sm-4 modifyPadding">
                            <label for="wcModal_company_txt">COMPANY</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_company_txt" >
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_region_txt">REGION</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_region_txt" >
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_area_txt">AREA</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_area_txt" >
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_district_txt">DISTRICT</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_district_txt" >
                        </div>
            
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_manager_txt">MANAGER</label>
                            <input style="text-transform: uppercase" type="text" class="form-control" id="wcModal_manager_txt" >
                        </div>
                    </div>
            
                    <div class="col-sm-12">
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_ipadr_txt">IP_ADDR</label>
                            <input type="text" class="form-control" id="wcModal_ipadr_txt" >
                        </div>
                        
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_gateway_txt">GATEWAY</label>
                            <input type="text" class="form-control" id="wcModal_gateway_txt" >
                        </div>

                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_netmask_txt"> NETMASK</label>
                            <input type="text" class="form-control" id="wcModal_netmask_txt" >
                        </div>

                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_iport_txt">IP_PORT</label>
                            <input type="text" class="form-control" id="wcModal_iport_txt" >
                        </div>
                    </div>
                    

                    <div class="col-sm-10 ">
                        <div class="col-sm-2 modifyPadding">
                            <label for="wcModal_act_txt">ACTION</label>
                            <input type="text" class="form-control" id="wcModal_act_txt" readonly>
                        </div>
                        <div class="col-sm-5 modifyPadding">
                            <button class="btn btn-primary" id="wcModal_submit_btn">Submit</button>
                            <button class="btn btn-primary" id="wcModal_clear_btn" type="button" >Clear</button>
                            <button class="btn btn-primary" id="wcModal_close_btn" data-dismiss="modal" aria-label="Close">Close</button>
                        </div>

                        
                        <br>
                        <input type="hidden" id="wcModal_id_num" style="width:50px;">
                        <label id="wcModal_result_lbl" style="color:red"></label>
                    </div>
                    
                    
            
                </div>
            </div>
        </div>
    </div>
</div>

<script>

// WC OBJ //
var wc = {
    id:         $("#wc_id_num"),
    act:        $("#wc_act_sel"),
    wcname:     $("#wc_wcname_txt"),
    wcc:        $("#wc_wcc_txt"),
    clli:       $("#wc_clli_txt"),
    npanxx:     $("#wc_npanxx_txt"),
    frloc:      $("#wc_frloc_txt"),
    ipctyp:     $("#wc_ipctyp_txt"),
    ipcmod:     $("#wc_ipcmod_txt"),
    tzone:      $("#wc_tzone_sel"),
    stat:       $("#wc_stat_sel"),
    addr:       $("#wc_addr_txt"),
    city:       $("#wc_city_txt"),
    state:      $("#wc_state_sel"),
    zip:        $("#wc_zip_txt"),
    gps:        $("#wc_gps_txt"),
    company:    $("#wc_company_txt"),
    region:     $("#wc_region_txt"),
    area:       $("#wc_area_txt"),
    district:   $("#wc_district_txt"),
    manager:    $("#wc_manager_txt"),
    ipadr:      $("#wc_ipadr_txt"),
    gateway:    $("#wc_gateway_txt"),
    netmask:    $("#wc_netmask_txt"),
    iport:      $("#wc_iport_txt"),
    ipcTime:    '',
    tblRows:    [],




    start: function() {
        wc.query('query');
    },

    displayForm: function() {
        wc.id.        val(wc.tblRows[1].id);
        wc.id.        prop("disabled","disabled");
        wc.wcname.    val(wc.tblRows[1].wcname);
        wc.wcc.       val(wc.tblRows[1].wcc);
        wc.clli.      val(wc.tblRows[1].clli);
        wc.npanxx.    val(wc.tblRows[1].npanxx);
        wc.frloc.     val(wc.tblRows[1].frloc);
        wc.ipctyp.    val(wc.tblRows[1].ipctyp);
        wc.ipcmod.    val(wc.tblRows[1].ipcmod);
        wc.tzone.     val(wc.tblRows[1].tzone);
        wc.stat.      val(wc.tblRows[1].ipcstat);
        wc.addr.      val(wc.tblRows[1].loc);
        wc.city.      val(wc.tblRows[1].city);
        wc.state.     val(wc.tblRows[1].state);
        wc.zip.       val(wc.tblRows[1].zip);
        wc.gps.       val(wc.tblRows[1].gps);
        wc.company.   val(wc.tblRows[1].company);
        wc.region.    val(wc.tblRows[1].region);
        wc.area.      val(wc.tblRows[1].area);
        wc.district.  val(wc.tblRows[1].district);
        wc.manager.   val(wc.tblRows[1].manager);
        wc.ipadr.     val(wc.tblRows[1].ipadr);
        wc.gateway.   val(wc.tblRows[1].gateway);
        wc.netmask.   val(wc.tblRows[1].netmask);
        wc.iport.     val(wc.tblRows[1].iport);

    },
    
    query: function(action) {
    
        $.post(ipcDispatch,
        {     
            api:        "ipcWc",
            act:        action,
            user:       $("#main_currentUser").text(),
            id:         wc.id.val().toUpperCase(),
            wcname:     wc.wcname.val().toUpperCase(),
            wcc:        wc.wcc.val().toUpperCase(),
            clli:       wc.clli.val().toUpperCase(),
            npanxx:     wc.npanxx.val(),
            frloc:      wc.frloc.val().toUpperCase(),
            tzone:      wc.tzone.val(),
            stat:       wc.stat.val(),
            addr:       wc.addr.val().toUpperCase(),
            city:       wc.city.val().toUpperCase(),
            state:      wc.state.val().toUpperCase(),
            zip:        wc.zip.val(),
            gps:        wc.gps.val().toUpperCase(),
            company:    wc.company.val().toUpperCase(),
            region:     wc.region.val().toUpperCase(),
            area:       wc.area.val().toUpperCase(),
            district:   wc.district.val().toUpperCase(),
            manager:    wc.manager.val().toUpperCase(),
            ipadr:      wc.ipadr.val(),
            gateway:    wc.gateway.val(),
            netmask:    wc.netmask.val(),
            iport:      wc.iport.val()

        },
        function (data, status) {       
            var obj = JSON.parse(data);
            if (obj.rslt == "fail") {
                alert(obj.reason);
            }
            else {
                if (obj.rows.length === 0) {
                    if (action != "query") {
                        alert("No Record Found");
                        return;
                    }
                }
                else {
                    wc.tblRows = obj.rows;
                    wc.displayForm();
                }
            } 
        });
    },

    cancelTimeOut: function() {

        $.post(ipcDispatch,
        {    
            api:    "ipcLogin",
            act:    "continue", 
            user:   $("#main_currentUser").text(),

        },
        function (data, status) {       
            var obj = JSON.parse(data);
            if (obj.rslt == "fail") {
                alert(obj.reason);
            }
        });
    },


    getHeaderInfo: function() {
        $.post(ipcDispatch,
        {    
            api:    "ipcWc",
            act:    'getHeader', 
            user:   "SYSTEM",
            uname:  mB.loginUser.text()
        },
        function (data, status) {       
            var obj = JSON.parse(data);
            if (obj.rslt == "fail") {
                alert(obj.reason);
            }
            else {
                // assign entire obj rows to nodes Array for use in sysview
                sysview.nodesArray = obj.rows[0];
                wc.nodes = obj.rows[0].nodes;
                sysview.nodes = obj.rows[0].nodes;
                sysview.node_info = obj.rows[0].node_info;
                mB.headerWcn.text('WCN:' + obj.rows[0].wcname);
                mB.headerWcc.text('WCC:' + obj.rows[0].wcc);
                mB.headerNpanxx.text('NPANXX:' + obj.rows[0].npanxx);
                mB.headerFrmId.text('FRMID:' + obj.rows[0].frmid);
                mB.dateFormat.val(obj.rows[0].date_format);
                $("#login_header_wcname").text('WCN:' + obj.rows[0].wcname);
                $("#login_header_wcc").text('WCC:' + obj.rows[0].wcc);
                $("#login_header_npanxx").text('NPANXX:' + obj.rows[0].npanxx);
                $("#login_header_frmID").text('FRMID:' + obj.rows[0].frmid);

                if (obj.rows[0].sev == "CRI") {
                    document.getElementById("header_alm").style.background = "red";
                    document.getElementById("header_alm").style.color = "white";
                    $("#header_alm").text(obj.rows[0].sev);
                }
                else if (obj.rows[0].sev == "MAJ") {
                    document.getElementById("header_alm").style.background = "orange";
                    document.getElementById("header_alm").style.color = "white";
                    $("#header_alm").text(obj.rows[0].sev);
                }
                else if (obj.rows[0].sev == "MIN") {
                    document.getElementById("header_alm").style.background = "yellow";
                    document.getElementById("header_alm").style.color = "gray";
                    $("#header_alm").text(obj.rows[0].sev);
                }
                else if (obj.rows[0].sev == "NONE") {
                    document.getElementById("header_alm").style.background = "green";
                    document.getElementById("header_alm").style.color = "white";
                    $("#header_alm").text(obj.rows[0].sev);
                }
    
                sysview.updateNode();
                /**
                 *  Check if user is Time out
                 * */
                
                var loginTime     = new Date(obj.rows[0].loginTime).getTime() / 1000;
                var time          = new Date(obj.rows[0].time).getTime() / 1000;
                var idle_to       = login.user.idle_to * 60;
                
                if ((time-loginTime) > idle_to) {
                    logout();
                    return;
                }
                
                if (((time-loginTime) > (idle_to - 60)) && ((time - loginTime) < idle_to)) {
                    confirm("YOUR SESSION WILL BE TIMED OUT IN " + (idle_to - (time-loginTime)) + " SECONDS.\nSELECT OK TO CONTINUE.", false, function () {
                        wc.cancelTimeOut();
                    });
                }


                //Split Time & Date
                //Modify Date using function in MainBegin function getCorrectDateString
                //Reconnect Date  & Time
                var date_str = obj.rows[0].time.split(" ");
                if (date_str.length == 2) {
                    var date_string = date_str[0];
                    obj.rows[0].time = kris_getCorrectDateString(date_string) + " " + date_str[1];
                }

                wc.ipcTime = obj.rows[0].time;

                $("#header_time").text("IPC: (" + obj.rows[0].ipcstat + ") " + (wc.ipcTime).substring(0,wc.ipcTime.length-3) + " " + obj.rows[0].tzone);


            }
        });
    }
}

// WCMODAL OBJ //
var wcModal = {
    modal:      $("#wcModal"),
    id:         $("#wcModal_id_num"),
    act :       $("#wcModal_act_txt"),
    wcname:     $("#wcModal_wcname_txt"),
    wcc:        $("#wcModal_wcc_txt"),
    clli:       $("#wcModal_clli_txt"),
    npanxx:     $("#wcModal_npanxx_txt"),
    frloc:      $("#wcModal_frloc_txt"),
    tzone:      $("#wcModal_tzone_sel"),
    stat:       $("#wcModal_stat_sel"),
    addr:       $("#wcModal_addr_txt"),
    city:       $("#wcModal_city_txt"),
    state:      $("#wcModal_state_sel"),
    zip:        $("#wcModal_zip_txt"),
    gps:        $("#wcModal_gps_txt"),
    company:    $("#wcModal_company_txt"),
    region:     $("#wcModal_region_txt"),
    area:       $("#wcModal_area_txt"),
    district:   $("#wcModal_district_txt"),
    manager:    $("#wcModal_manager_txt"),
    ipadr:      $("#wcModal_ipadr_txt"),
    gateway:    $("#wcModal_gateway_txt"),
    netmask:    $("#wcModal_netmask_txt"),
    iport:      $("#wcModal_iport_txt"),
    result:     $("#wcModal_result_lbl"),
    submitBtn:  $("#wcModal_submit_btn"),
    closeBtn:   $("#wcModal_close_btn"),
    cancelBtn:  $("#wcModal_clear_btn"),
    tblRows:    [],

    displayForm: function() {
        wcModal.id.        val(wcModal.tblRows[1].id);
        wcModal.wcname.    val(wcModal.tblRows[1].wcname);
        wcModal.wcc.       val(wcModal.tblRows[1].wcc);
        wcModal.clli.      val(wcModal.tblRows[1].clli);
        wcModal.npanxx.    val(wcModal.tblRows[1].npanxx);
        wcModal.frloc.     val(wcModal.tblRows[1].frloc);
        wcModal.tzone.     val(wcModal.tblRows[1].tzone);
        wcModal.stat.      val(wcModal.tblRows[1].ipcstat);
        wcModal.addr.      val(wcModal.tblRows[1].loc);
        wcModal.city.      val(wcModal.tblRows[1].city);
        wcModal.state.     val(wcModal.tblRows[1].state);
        wcModal.zip.       val(wcModal.tblRows[1].zip);
        wcModal.gps.       val(wcModal.tblRows[1].gps);
        wcModal.company.   val(wcModal.tblRows[1].company);
        wcModal.region.    val(wcModal.tblRows[1].region);
        wcModal.area.      val(wcModal.tblRows[1].area);
        wcModal.district.  val(wcModal.tblRows[1].district);
        wcModal.manager.   val(wcModal.tblRows[1].manager);
        wcModal.ipadr.     val(wcModal.tblRows[1].ipadr);
        wcModal.gateway.   val(wcModal.tblRows[1].gateway);
        wcModal.netmask.   val(wcModal.tblRows[1].netmask);
        wcModal.iport.     val(wcModal.tblRows[1].iport);
        wcModal.result.    text("");
        wcModal.act.       val(wc.act.val());
    },

    resetForm: function() {
        wcModal.id.        val(wcModal.tblRows[1].id);
        wcModal.wcname.    val(wcModal.tblRows[0].wcname);
        wcModal.wcc.       val(wcModal.tblRows[0].wcc);
        wcModal.clli.      val(wcModal.tblRows[0].clli);
        wcModal.npanxx.    val(wcModal.tblRows[0].npanxx);
        wcModal.frloc.     val(wcModal.tblRows[0].frloc);
        wcModal.tzone.     val(wcModal.tblRows[0].tzone);
        wcModal.stat.      val(wcModal.tblRows[0].ipcstat);
        wcModal.addr.      val(wcModal.tblRows[0].loc);
        wcModal.city.      val(wcModal.tblRows[0].city);
        wcModal.state.     val(wcModal.tblRows[0].state);
        wcModal.zip.       val(wcModal.tblRows[0].zip);
        wcModal.gps.       val(wcModal.tblRows[0].gps);
        wcModal.company.   val(wcModal.tblRows[0].company);
        wcModal.region.    val(wcModal.tblRows[0].region);
        wcModal.area.      val(wcModal.tblRows[0].area);
        wcModal.district.  val(wcModal.tblRows[0].district);
        wcModal.manager.   val(wcModal.tblRows[0].manager);
        wcModal.ipadr.     val(wcModal.tblRows[0].ipadr);
        wcModal.gateway.   val(wcModal.tblRows[0].gateway);
        wcModal.netmask.   val(wcModal.tblRows[0].netmask);
        wcModal.iport.     val(wcModal.tblRows[0].iport);
        wcModal.result.    text("");
    },


    disableForm: function() {
        wcModal.id.        prop("disabled","disabled");
        wcModal.act.       prop("disabled","disabled");
        wcModal.wcname.    prop("disabled","disabled");
        wcModal.wcc.       prop("disabled","disabled");
        wcModal.clli.      prop("disabled","disabled");
        wcModal.npanxx.    prop("disabled","disabled");
        wcModal.frloc.     prop("disabled","disabled");
        wcModal.tzone.     prop("disabled","disabled");
        wcModal.stat.      prop("disabled","disabled");
        wcModal.addr.      prop("disabled","disabled");
        wcModal.city.      prop("disabled","disabled");
        wcModal.state.     prop("disabled","disabled");
        wcModal.zip.       prop("disabled","disabled");
        wcModal.gps.       prop("disabled","disabled");
        wcModal.company.   prop("disabled","disabled");
        wcModal.region.    prop("disabled","disabled");
        wcModal.area.      prop("disabled","disabled");
        wcModal.district.  prop("disabled","disabled");
        wcModal.manager.   prop("disabled","disabled");
        
        wcModal.cancelBtn. hide();
    },
    
    enableForm: function() {
        wcModal.id.        prop("disabled","disabled");
        wcModal.act.       prop("disabled",false);
        wcModal.wcname.    prop("disabled",false);
        wcModal.wcc.       prop("disabled",false);
        wcModal.clli.      prop("disabled",false);
        wcModal.npanxx.    prop("disabled",false);
        wcModal.frloc.     prop("disabled",false);
        wcModal.tzone.     prop("disabled",false);
        wcModal.stat.      prop("disabled","disabled");
        wcModal.addr.      prop("disabled",false);
        wcModal.city.      prop("disabled",false);
        wcModal.state.     prop("disabled",false);
        wcModal.zip.       prop("disabled",false);
        wcModal.gps.       prop("disabled",false);
        wcModal.company.   prop("disabled",false);
        wcModal.region.    prop("disabled",false);
        wcModal.area.      prop("disabled",false);
        wcModal.district.  prop("disabled",false);
        wcModal.manager.   prop("disabled",false);
        
        wcModal.cancelBtn. show();
    },
    
    disableNetworkData: function(){
        wcModal.ipadr.     prop("disabled", true);
        wcModal.gateway.   prop("disabled", true);
        wcModal.netmask.   prop("disabled", true);
        wcModal.iport.     prop("disabled", true);
        
        wcModal.cancelBtn. hide();
    },
    
    enableNetworkData: function(){
        wcModal.ipadr.     prop("disabled", false);
        wcModal.gateway.   prop("disabled", false);
        wcModal.netmask.   prop("disabled", false);
        wcModal.iport.     prop("disabled", false);
        
        wcModal.cancelBtn. show();
    },

    //---------------WCMODAL AJAX FUNCTION---------------//
    
    query: function(action) {
    
        $.post(ipcDispatch,
        {     
            api:        "ipcWc",
            act:        action,
            user:       $("#main_currentUser").text(),
            id:         wcModal.id.val(),
            wcname:     wcModal.wcname.val(),
            wcc:        wcModal.wcc.val(),
            clli:       wcModal.clli.val(),
            npanxx:     wcModal.npanxx.val(),
            frloc:      wcModal.frloc.val(),
            tzone:      wcModal.tzone.val(),
            stat:       wcModal.stat.val(),
            addr:       wcModal.addr.val(),
            city:       wcModal.city.val(),
            state:      wcModal.state.val(),
            zip:        wcModal.zip.val(),
            gps:        wcModal.gps.val(),
            company:    wcModal.company.val(),
            region:     wcModal.region.val(),
            area:       wcModal.area.val(),
            district:   wcModal.district.val(),
            manager:    wcModal.manager.val(),
            ipadr:      wcModal.ipadr.val(),
            gateway:    wcModal.gateway.val(),
            netmask:    wcModal.netmask.val(),
            iport:      wcModal.iport.val()

        },
    
        function (data, status) {       
            var obj = JSON.parse(data);
            if (obj.rslt == "fail") {
                alert(obj.reason);
            }
            else {
                if (obj.rows.length === 0) {
                    if (action != "query") {
                        alert("No Record Found");
                        return;
                    }
                }
                else {
                    wcModal.tblRows = obj.rows;
                    wcModal.displayForm();
                    // alert(obj.reason);
                    wc.tblRows = wcModal.tblRows;
                    wc.displayForm();
                }
            } 
        });
    },

    turnup: function() {
        $.post(ipcDispatch,
        {
            api:        "ipcWc",
            act:        'TURN_UP',
            user:       $("#main_currentUser").text(),
            wcname:     wc.wcname.val(),
            wcc:        wc.wcc.val(),
            clli:       wc.clli.val(),
            npanxx:     wc.npanxx.val(),
            frloc:      wc.frloc.val(),
        },

        function (data, status) {       
            var obj = JSON.parse(data);
            if (obj.rslt == "fail") {
                alert(obj.reason);
            }
            else {
                wcModal.query('query');
                alert("WIRE CENTER TURNED-UP SUCCESSFULLY");
            } 

        });

    },

    holdWc: function() {
    
        $.post(ipcDispatch,
        {     
            api:        "ipcWc",
            act:        'HOLD',
            user:       $("#main_currentUser").text(),
            wcname:     wcModal.wcname.val(),
            wcc:        wcModal.wcc.val(),
            clli:       wcModal.clli.val(),
            npanxx:     wcModal.npanxx.val(),
            frloc:      wcModal.frloc.val()
        },

        function (data, status) {       
            var obj = JSON.parse(data);
            if (obj.rslt == "fail") {
                alert(obj.reason);
            }
            else {
                wcModal.query('query');
                alert("WIRE CENTER HOLD SUCCESSFUL");
            } 
        });
    },

}

// WC Events Handling



wc.act.change(function() {
    
    if (wc.id.val() != "") {
      
        if (wc.act.val()  ==  "UPDATE") {
            wcModal.tblRows = wc.tblRows;
            wcModal.displayForm();
            wcModal.enableForm();
            wcModal.disableNetworkData();
            wcModal.modal.modal();
        } 
        else if (wc.act.val()  ==  "RESET") {
            wcModal.tblRows = wc.tblRows;
            wcModal.resetForm();
            wcModal.act.val(wc.act.val());
            wcModal.disableForm();
            wcModal.disableNetworkData();
            wcModal.modal.modal();
        } 
        else if (wc.act.val()  ==  "UPDATE_NETWORK") {
            wcModal.tblRows = wc.tblRows;
            wcModal.displayForm();
            wcModal.disableForm();
            wcModal.enableNetworkData();
            wcModal.modal.modal();
        } 
        else if (wc.act.val()  ==  "TURN_UP") {
            wcModal.tblRows = wc.tblRows;
            wcModal.displayForm();
            wcModal.disableForm();
            wcModal.disableNetworkData();
            wcModal.modal.modal();

        }
        else if (wc.act.val()  ==  "HOLD") {
            wcModal.tblRows = wc.tblRows;
            wcModal.displayForm();
            wcModal.disableForm();
            wcModal.disableNetworkData();
            wcModal.modal.modal();
        }  
    }   
});

$(document).on("click", "wc", function(evt) {
    if (evt.target.id == "wc_help_btn") {
        return;
    }
    if ($("#help").css('display') == 'block') {
        $("#help").hide();
    }

})
//Hide or Show the WC Help sidebar
$(document).on("click", "#wc_help_btn", function() {
    if($("#help").css('display') == 'block') {
        $("#help").hide();
    }
    else {
        $("#help").show();
    }
});


// WCMODAL Events Handling
wcModal.submitBtn.click(function () {
    if (wcModal.npanxx.val().length < 6 || wcModal.npanxx.val().length > 6) {
        alert("INVALID NPANXX: NPANXX MUST BE 6 DIGITS");
        return;
    }
    if (wcModal.id.val() != "") {
        if(wcModal.act.val() == "TURN_UP") {
            wcModal.turnup();
        }
        else if(wcModal.act.val() == "HOLD") {
            wcModal.holdWc();
        }
        else {
            wcModal.query(wcModal.act.val());
        }
    }
    else {
        alert("Missing WC ID");
    }
});

wcModal.cancelBtn.click(function () {
   if (wcModal.id.val() != "") {
       wcModal.tblRows = wc.tblRows;
       wcModal.displayForm();
       //stops from clearing act on page when clicked - nn
    //    wc.act.       val("");
   } 
});

wcModal.closeBtn.click(function () {
    if (wcModal.id.val() !="") {
        wc.act.val("");
    }
});


wcModal.modal.on("hidden.bs.modal", function(){
    wc.act.val("");
});


</script>
